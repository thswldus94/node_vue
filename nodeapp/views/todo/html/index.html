<!-- header -->
<% include ../../header.html %>

<!-- PAGE CONTENT BEGINS -->
<div class="mb-3 card">
	<div class="card-header-tab card-header-tab-animation card-header">
		<div class="card-header-title">
			<i class="header-icon lnr-apartment icon-gradient bg-love-kiss"> </i>
			<!-- <span class="col-xs-6"> 1. 시작하기</span> -->
			<h4 class="blue mb-0">
				<span class="col-xs-6"> TodoList</span>
			</h4>
		</div>
	</div>
	<div class="card-body">
        <section class="todoapp">
			<header class="header">
				<!-- v-model 은 input의 name 같은 기능으로 allDone이라는 값으로 넘기겠다는 의미 -->
				<div class="custom-checkbox custom-control custom-control-inline">
					<input type="checkbox" id="toggle-all" v-model="allDone" class="toggle-all custom-control-input">
					<label class="custom-control-label" for="toggle-all"></label>
				</div>
				<!-- v-on:keyup.enter 엔터키를 떼는 순간 addTodo 메소드를 실행해라 라는 의미 -->
				<!-- v-model newTodo 라는 이름?으로 값을 넘기겠다는 의미 -->
				<input class="new-todo form-control"
				 		autofocus autocomplete="off"
						placeholder="내일까지 할일을 적으시유 ㅠㅠ"
						v-model="newTodo"
						v-on:keyup.enter="addTodo"/>
			</header>
			<!-- v-show todos의 개수가 1개 이상인 경우에만 보여주겠다는 의미 -->
			<section class="main mt-2" v-show="todos.length" v-cloak>
				<ul class="todo-list list-group mt-3">
					<!-- v-for filteredTodos 리스트에서 하나씩 todo라는 객체로 뽑아서 뿌리겠다는 의미 -->
					<!-- v-bind:key="todo.id" key값으로 todo객체의 id로 하겠다는 의미 -->
					<!-- todo.completed 가 참일 경우 complted 라는 클래스를, todo가 editedTodo 와 객체가 동일할 경우 editing 클래스를 적용 -->
					<li v-for="todo in filteredTodos" class="todo list-group-item" v-bind:key="todo.id"
						v-bind:class="{ completed: todo.completed, editing: todo === editedTodo }">
						<div class="view">
							<!-- todo의 complted 속성으로 넘기겠다 -->
							<!-- 더블클릭하는 경우 editTodo 라는 메소드를 실행하며 인자로 todo 인자를 넘기겠다 -->
							<!-- 각 체크박스별 id 를 todo의 id로 만들어 주었다 -->
							<div class="custom-checkbox custom-control custom-control-inline">
								<input type="checkbox" v-model="todo.completed" v-bind:id="todo.id" class="custom-control-input">
								<label v-on:dblclick="editTodo(todo)" v-bind:for="todo.id" class="custom-control-label">{{ todo.title }}</label>
							</div>
							<!-- 아이콘 클릭하면 removeTodo 메소드 실행하며 인자로 todo를 넘긴다 -->
							<i class="pe-7s-close-circle text-danger" v-on:click="removeTodo(todo)"> </i>
						</div>

						<!-- todo.title을 데이터로 넘긴다 -->
						<!-- v-todo-focus todo가 editedTodo 와 같은 경우 포커스 효과 -->
						<!-- 인풋에서 마우스가 벗어난 경우 (blur)또는 엔터 클릭시 doneEdit메소드를 호출하고 인자로 todo를 넘긴다 -->
						<!-- esc 키를누를 경우 cancleEdit 메소드를 호출하고 인자로 todo를 넘긴다 -->
						<input class="edit form-control mt-1" type="text"
								v-model="todo.title"
								v-todo-focus="todo == editedTodo"
								v-on:blur="doneEdit(todo)"
								v-on:keyup.enter="doneEdit(todo)"
								v-on:keyup.esc="cancleEdit(todo)" />
					</li>
				</ul>
			</section>
			<footer class="footer" v-show="todos.length" v-cloak>
				<span class="todo-count">
					<strong>{{ remaining }}</strong> {{ remaining | pluralize }} left
				</span>
				<ul class="filters">
					<li><a href="#/all" v-bind:class="{ selected: visiblity == 'all' }">모두</a></li>
					<li><a href="#/active" v-bind:class="{ selected: visiblity == 'active' }">진행중</a></li>
					<li><a href="#/completed" v-bind:class="{ selected: visiblity == 'completed' }">완료</a></li>
				</ul>
				<button class="clear-completed" @click="removeCompleted" v-show="todos.length > remaining">
					완료된 것 지우기
				</button>
			</footer>
		</section>
	</div>
</div>




<!-- footer -->
<% include ../../footer.html %>

<script>
<% include ../js/todo.js %>
</script>
